<!--
 * Copyright (C) 2020  Christian Garbs <mitch@cgarbs.de>
 * Licensed under GNU GPL v3 or later.
 *
 * This file is part of Wild Cards.
 *
 * Wild Cards is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Wild Cards is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Wild Cards.  If not, see <http://www.gnu.org/licenses/>.
-->

 <div *ngIf="!battleStarted" class="nes-container with-title is-centered">
    <p class="title">Enter a new battle</p>
    <div class="nes-field">
        <label for="player_name">Player name</label>
        <input [value]="playerName" (input)="onNameChanged($event)" type="text" id="name_field" class="nes-input" [class.is-error]="isInvalidName">
    </div>
    <button class="nes-btn" (click)="onStartBattle()">Start battle</button>
</div>

<div *ngIf="battleStarted && !battleEnded" class="nes-container is-rounded is-dark with-title" id="battle">
    <p class="title">Battle round</p>
    <p>Name: {{ player?.name }}</p>
    <p>Score: {{ player?.score }}</p>
    <button class="nes-btn is-primary" (click)="onAttack()">Attack</button>
    <button class="nes-btn" (click)="onSave()">Save and return to title</button>
</div>

<div *ngIf="battleEnded" class="nes-container with-title is-centered">
    <p class="title">Battle lost</p>
    <p><span class="nes-text is-error">{{ player?.name }} is dead.</span></p>
    <p>You achieved a score of {{ player?.score }}.</p>
    <button class="nes-btn" (click)="onReturnToMainMenu()">Return to Main Menu</button>
</div>
